var dt_user;function hapusData(a){$.ajax({url:base_url+"setting/user_hapus/"+a,dataType:"text",success:function(a){1==a?(dt_user.ajax.reload(),$("#respon").html("<div class='alert alert-success' role='alert' id='responMsg'><strong>Selamat</strong> Data berhasil dihapus</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()}))):($("#respon").html("<div class='alert alert-warning' role='alert' id='responMsg'><strong>Maaf</strong> Data gagal dihapus. Silahkan coba lagi.</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()})))}})}$(document).ready((function(){$("#sidebar_setting").addClass("active"),$("#sidebar_setting_user").addClass("active"),dt_user=$("#dt_user").DataTable({dom:"Bfrtip",order:[[1,"asc"]],ajax:{url:base_url+"user/data_user",dataSrc:""},columns:[{data:"id"},{data:null,sortable:!1,render:function(a,t,e,s){return s.row+s.settings._iDisplayStart+1}},{data:"username"},{data:"nama"},{data:"nama_layanan"},{data:null,sortable:!1,render:function(a,t,e,s){return"<a href='"+base_url+"setting/user/ubah/"+e.id+"' class='btn btn-warning'><i class='fas fa-edit'></i>Ubah</a>"}},{data:null,sortable:!1,render:function(a,t,e,s){return"<a href='#' class='btn btn-danger deleteButton'><i class='fas fa-trash'></i>Hapus</a>"}}],columnDefs:[{targets:0,visible:!1}],responsive:!0,autoWidth:!1}),$("#dt_user tbody").on("click","tr .deleteButton",(function(a){a.preventDefault();var t=$(this).closest("li").length?$(this).closest("li"):$(this).closest("tr"),e=$("#dt_user").DataTable().row(t).data();$("#hapusModal").modal("show"),$("#hapusModal").find(".modal-body").html("<p>Apakah anda ingin menghapus data "+e.nama+"? Data ini tidak bisa dipulihkan kembali."),$("#hapusModal").find("#deleteButton").attr("onclick","hapusData("+e.id+")")}))}));